<div class="w3-modal-content">
    <header class="w3-container w3-blue w3-center">
        <span class="w3-closebtn w3-padding-top" data-bind="click: closeClick">&times;</span>
        <h2 data-bind="text: title"></h2>
    </header>

    <div class="w3-container w3-section">
        <!-- ko if: tabs().length > 1 -->
        <ul class="w3-navbar w3-light-grey" data-bind="foreach: tabs">
            <li style="min-width:100px"><b><a href="#" data-bind="text: tabName, click: setCurrentTab, css: colorClass"></a></b></li>
        </ul>
        <!-- /ko -->

        <div class="w3-section" >
            <table class="w3-table" >
                <!-- ko if: currentTab() != null -->
                <tbody data-bind="foreach: currentTab().inputs()">
                    <!-- ko template: { name: 'inputRowTemplate' } -->
                    <!-- /ko -->
                </tbody>
                <!-- /ko -->

                <!-- ko if: combinedTab() != null -->
                <tfoot data-bind="foreach: combinedTab().inputs()">
                    <!-- ko template: { name: 'inputRowTemplate' } -->
                    <!-- /ko -->
                </tfoot>
                <!-- /ko -->
            </table>
        </div>
    </div>

    <!-- ko if: buttons().length > 0 -->
    <div class="w3-container w3-light-grey w3-padding w3-center" data-bind="foreach: buttons">
        <button class="w3-btn w3-blue w3-border" data-bind="text: label, click: $root.buttonClick"></button>
    </div>
    <!-- /ko -->
</div>

<script type="text/html" id="inputRowTemplate">
    <tr data-bind="visible: visible">
        <!-- ko if: inputType != 8 && inputType != 5 -->
        <td>
            <span data-bind="text: inputLabel"></span>
        </td>
        <!-- /ko -->
        <td data-bind="attr: { colspan: inputType != 8 && inputType != 5 ? 1 : 99 }">
            <!-- ko if: inputType == 0 -->
            <input class="w3-input" type="text" data-bind="value: inputValue, hasFocus: $index() == 0" />
            <!-- /ko -->

            <!-- ko if: inputType == 1 -->
            <input class="w3-input" type="password" data-bind="value: inputValue, hasFocus: $index() == 0" />
            <!-- /ko -->
            <!-- ko if: inputType == 2 -->
            <input class="w3-input" type="text" data-bind="value: inputValue, hasFocus: $index() == 0" />
            <!-- /ko -->
            <!-- ko if: inputType == 3 -->
            <select class="w3-select" data-bind="options: options, value: inputValue, optionsText: 'displayText', optionsCaption: 'Select a value... ', hasFocus: $index() == 0"></select>
            <!-- /ko -->
            <!-- ko if: inputType == 4 -->
            <input class="w3-input w3-check" type="checkbox" data-bind="checked: inputValue, hasFocus: $index() == 0" />
            <!-- /ko -->
            
            <!-- ko if: inputType == 5 -->
            <!-- List Selection Input -->
            <label><b data-bind="text: inputLabel"></b></label>
            <div style="overflow-x:auto; overflow-y: auto; max-height:250px">
                <table class="w3-table w3-bordered w3-striped w3-border w3-hoverable " >
                    <tr>
                        <th >
                            <input class="w3-check" type="checkbox" data-bind="checked: selectAll, click: selectAllClicked" />
                        </th>
                        <th>
                            <label>Select All</label>
                        </th>
                    </tr>
                    <tbody data-bind="foreach: listSource">
                        <tr>
                            <td>
                                <input class="w3-check" type="checkbox" data-bind="checked: selected, click: $parent.listSourceSelect" />
                            </td>
                            <td>
                                <span data-bind="text: label"></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- /ko -->

            <!-- ko if: inputType == 6 -->
            <input class="w3-input " type="date" data-bind="value: inputValue, hasFocus: $index() == 0" />
            <!-- /ko -->
            
            <!-- ko if: inputType == 7 -->
            <!-- MaskedInput ->> maybe use jquery UI -->
            <span>??????</span>
            <!-- /ko -->

            <!-- ko if: inputType == 8 -->
            <!-- View Input -->
            <label><b data-bind="text: inputLabel"></b></label>
            <div data-bind="html: html">

            </div>
            <!-- /ko -->

            <!-- ko if: inputType == 9 -->
            <input class="w3-input " type="file" data-bind="hasFocus: $index() == 0, event: { change: function() { fileSelected($element.files[0]) } }" />
            <!-- /ko -->
        </td>
    </tr>
</script>
